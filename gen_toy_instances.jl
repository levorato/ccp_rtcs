using FileIO

include("RCCP_FileReader.jl")

function generate_periods(logger, oc_value)
    num_periods = 6
    period_size = 6
    println(logger,"Instance	$(num_periods)	6")
    println(logger,"Horizon     $(num_periods)")
    periods = [x for x in 0:num_periods-1]
    for period_id in periods
        println(logger,"Period	$(period_id)	$(period_size)	$(oc_value)	")
    end
end

function generate_devices(logger, generator_cost, battery_cost)
    println(logger,"DrivableS	DS0	0")
    println(logger,"P	-2280	-2280	-2280	-2280	-2280	-2280	")
    println(logger,"Pmin	0	0	0	0	0	-6000	")
    println(logger,"Pmax	-6000	0	0	0	0	-15000	")

    #println(logger,"//	electrogene	group	16kW	moteur	kohler	diesel	8500€	when	bought	+	3.63L/h	of	oil	consumption;	oil	=	0.6€/L								")
    println(logger,"DrivableS	DS1	$(generator_cost)")
    println(logger,"P	2667	2667	2667	2667	2667	2667	")
    println(logger,"Pmin	0	0	0	0	0	0	")
    println(logger,"Pmax	2667	2667	2667	2667	2667	2667	")

    #println(logger,"//	building	(certain	part)																						")
    println(logger,"NDrivableS	NDS0	0																							")
    println(logger,"P	-80289	-72516	-73166	-78921	-80295	-80862")

    #println(logger,"//	20	accumulators	lithium-ion	12V-160Ah	de	classe	C5.	0.57€/kWh																	")
    println(logger,"Storage	STOR0	$(battery_cost)	0	36480	10000	0	1280	1280																	")

    #println(logger,"//	100	solar	pannels																						")
    println(logger,"UNDS	UNDS0	0																							")
    println(logger,"Pmin	6800	500	5300	9500	11400	11400")
    println(logger,"Pmax	17400	30600	20100	36700	37300	33700")
    println(logger,"Pdt_min	1100	0	800	1500	1900	1900")
    println(logger,"Pdt_max	4200	6400	6700	7700	8300	7100")
end

function generate_unds_consumer(logger, cost_amplitude, shape)
    #println(logger,"//	consumption	of	building	(uncertain	part)																				")
    println(logger,"UNDS	UNDS1	0")
    if cost_amplitude == "default"
        println(logger,"Pmin	-11402.56811	-13869.82889	-10444.7817	-10761.56271	-10952.9863	-11364.3823")
        println(logger,"Pmax	-9736.662379	-9457.746632	-8260.291321	-9463.895161	-9693.065202	-9890.560429")
        println(logger,"Pdt_min	-2042.160438	-2687.746236	-1904.474672	-1894.140797	-1907.093	-1988.816118")
        println(logger,"Pdt_max	-1486.858528	-1217.052149	-1176.311211	-1461.584949	-1487.1193	-1497.542163")
        scenario_file = "templates/UNDS_default_100s_$(shape).txt"
    elseif cost_amplitude == "2x"
        println(logger,"Pmin	-22805.13622	-27739.65778	-20889.5634	-21523.12542	-21905.9726	-22728.7646")
        println(logger,"Pmax	-19473.324758	-18915.493264	-16520.582642	-18927.790322	-19386.130404	-19781.120858")
        println(logger,"Pdt_min	-4084.320876	-5375.492472	-3808.949344	-3788.281594	-3814.186	-3977.632236")
        println(logger,"Pdt_max	-2973.717056	-2434.104298	-2352.622422	-2923.169898	-2974.2386	-2995.084326")
        scenario_file = "templates/UNDS_2x_100s_$(shape).txt"
    elseif cost_amplitude == "4x"
        println(logger,"Pmin	-45610.27244	-55479.31556	-41779.1268	-43046.25084	-43811.9452	-45457.5292")
        println(logger,"Pmax	-38946.649516	-37830.986528	-33041.165284	-37855.580644	-38772.260808	-39562.241716")
        println(logger,"Pdt_min	-8168.641752	-10750.984944	-7617.898688	-7576.563188	-7628.372	-7955.264472")
        println(logger,"Pdt_max	-5947.434112	-4868.208596	-4705.244844	-5846.339796	-5948.4772	-5990.168652")
        scenario_file = "templates/UNDS_4x_100s_$(shape).txt"
    end
    s = open(scenario_file) do file
        read(file, String)
    end
    println(logger,s)
end

# Generate contracts by varying the EC (Engagement Cost) => Third column
function generate_contracts(logger, type_c)
    if type_c == "default"
        println(logger,"Contract	0	33	31	5000	7200	0	1200	")
        println(logger,"Contract	0	37	33	4000	9000	102	1500	")
        println(logger,"Contract	0	437.671233	6.017	15300	18000	0	3000	")
        println(logger,"Contract	0	321.917808	6.893	15300	18000	0	3000	")
        println(logger,"Contract	0	254.794521	8.035	10000	18000	0	3000	")
        println(logger,"Contract	0	178.767123	10.114	0	15000	0	3000	")
        println(logger,"Contract	0	875.342466	6.017	30600	36000	0	6000	")
        println(logger,"Contract	0	643.835616	6.893	30600	36000	0	6000	")
        println(logger,"Contract	0	509.589041	8.035	20000	36000	0	6000	")
        println(logger,"Contract	0	357.534247	10.114	0	30000	0	6000	")
        println(logger,"Contract	0	1313.013699	6.017	45900	54000	0	9000	")
        println(logger,"Contract	0	965.753425	6.893	45900	54000	0	9000	")
        println(logger,"Contract	0	764.383562	8.035	30000	54000	0	9000	")
        println(logger,"Contract	0	536.30137	10.114	0	45000	0	9000	")
        println(logger,"Contract	0	1750.684932	6.017	61200	72000	0	12000	")
        println(logger,"Contract	0	1287.671233	6.893	61200	72000	0	12000	")
        println(logger,"Contract	0	1019.178082	8.035	40000	72000	0	12000	")
        println(logger,"Contract	0	715.068493	10.114	0	60000	0	12000	")
        println(logger,"Contract	0	33	31	5000	7200	0	1200	")
        println(logger,"Contract	0	37	33	4000	9000	102	1500	")
        println(logger,"Contract	1	437.671233	6.017	15300	18000	0	3000	")
        println(logger,"Contract	1	321.917808	6.893	15300	18000	0	3000	")
        println(logger,"Contract	1	254.794521	8.035	10000	18000	0	3000	")
        println(logger,"Contract	1	178.767123	10.114	0	15000	0	3000	")
        println(logger,"Contract	1	875.342466	6.017	30600	36000	0	6000	")
        println(logger,"Contract	1	643.835616	6.893	30600	36000	0	6000	")
        println(logger,"Contract	1	509.589041	8.035	20000	36000	0	6000	")
        println(logger,"Contract	1	357.534247	10.114	0	30000	0	6000	")
        println(logger,"Contract	1	1313.013699	6.017	45900	54000	0	9000	")
        println(logger,"Contract	1	965.753425	6.893	45900	54000	0	9000	")
        println(logger,"Contract	1	764.383562	8.035	30000	54000	0	9000	")
        println(logger,"Contract	1	536.30137	10.114	0	45000	0	9000	")
        println(logger,"Contract	1	1750.684932	6.017	61200	72000	0	12000	")
        println(logger,"Contract	1	1287.671233	6.893	61200	72000	0	12000	")
        println(logger,"Contract	1	1019.178082	8.035	40000	72000	0	12000	")
        println(logger,"Contract	1	715.068493	10.114	0	60000	0	12000	")
        println(logger,"Contract	1	33	31	5000	7200	0	1200	")
        println(logger,"Contract	1	37	33	4000	9000	102	1500	")
        println(logger,"Contract	1	437.671233	6.017	15300	18000	0	3000	")
        println(logger,"Contract	1	321.917808	6.893	15300	18000	0	3000	")
        println(logger,"Contract	2	254.794521	8.035	10000	18000	0	3000	")
        println(logger,"Contract	2	178.767123	10.114	0	15000	0	3000	")
        println(logger,"Contract	2	875.342466	6.017	30600	36000	0	6000	")
        println(logger,"Contract	2	643.835616	6.893	30600	36000	0	6000	")
        println(logger,"Contract	2	509.589041	8.035	20000	36000	0	6000	")
        println(logger,"Contract	2	357.534247	10.114	0	30000	0	6000	")
        println(logger,"Contract	2	1313.013699	6.017	45900	54000	0	9000	")
        println(logger,"Contract	2	965.753425	6.893	45900	54000	0	9000	")
        println(logger,"Contract	2	764.383562	8.035	30000	54000	0	9000	")
        println(logger,"Contract	2	536.30137	10.114	0	45000	0	9000	")
        println(logger,"Contract	2	1750.684932	6.017	61200	72000	0	12000	")
        println(logger,"Contract	2	1287.671233	6.893	61200	72000	0	12000	")
        println(logger,"Contract	2	1019.178082	8.035	40000	72000	0	12000	")
        println(logger,"Contract	2	715.068493	10.114	0	60000	0	12000	")
        println(logger,"Contract	2	33	31	5000	7200	0	1200	")
        println(logger,"Contract	2	37	33	4000	9000	102	1500	")
        println(logger,"Contract	2	437.671233	6.017	15300	18000	0	3000	")
        println(logger,"Contract	2	321.917808	6.893	15300	18000	0	3000	")
        println(logger,"Contract	2	254.794521	8.035	10000	18000	0	3000	")
        println(logger,"Contract	2	178.767123	10.114	0	15000	0	3000	")
        println(logger,"Contract	3	875.342466	6.017	30600	36000	0	6000	")
        println(logger,"Contract	3	643.835616	6.893	30600	36000	0	6000	")
        println(logger,"Contract	3	509.589041	8.035	20000	36000	0	6000	")
        println(logger,"Contract	3	357.534247	10.114	0	30000	0	6000	")
        println(logger,"Contract	3	1313.013699	6.017	45900	54000	0	9000	")
        println(logger,"Contract	3	965.753425	6.893	45900	54000	0	9000	")
        println(logger,"Contract	3	764.383562	8.035	30000	54000	0	9000	")
        println(logger,"Contract	3	536.30137	10.114	0	45000	0	9000	")
        println(logger,"Contract	3	1750.684932	6.017	61200	72000	0	12000	")
        println(logger,"Contract	3	1287.671233	6.893	61200	72000	0	12000	")
        println(logger,"Contract	3	1019.178082	8.035	40000	72000	0	12000	")
        println(logger,"Contract	3	715.068493	10.114	0	60000	0	12000	")
        println(logger,"Contract	3	33	31	5000	7200	0	1200	")
        println(logger,"Contract	3	37	33	4000	9000	102	1500	")
        println(logger,"Contract	3	437.671233	6.017	15300	18000	0	3000	")
        println(logger,"Contract	3	321.917808	6.893	15300	18000	0	3000	")
        println(logger,"Contract	3	254.794521	8.035	10000	18000	0	3000	")
        println(logger,"Contract	3	178.767123	10.114	0	15000	0	3000	")
        println(logger,"Contract	3	875.342466	6.017	30600	36000	0	6000	")
        println(logger,"Contract	3	643.835616	6.893	30600	36000	0	6000	")
        println(logger,"Contract	4	509.589041	8.035	20000	36000	0	6000	")
        println(logger,"Contract	4	357.534247	10.114	0	30000	0	6000	")
        println(logger,"Contract	4	1313.013699	6.017	45900	54000	0	9000	")
        println(logger,"Contract	4	965.753425	6.893	45900	54000	0	9000	")
        println(logger,"Contract	4	764.383562	8.035	30000	54000	0	9000	")
        println(logger,"Contract	4	536.30137	10.114	0	45000	0	9000	")
        println(logger,"Contract	4	1750.684932	6.017	61200	72000	0	12000	")
        println(logger,"Contract	4	1287.671233	6.893	61200	72000	0	12000	")
        println(logger,"Contract	4	1019.178082	8.035	40000	72000	0	12000	")
        println(logger,"Contract	4	715.068493	10.114	0	60000	0	12000	")
        println(logger,"Contract	4	37	41	1000	7000	0	1500	")
        println(logger,"Contract	4	41	44	7000	10800	0	1800	")
        println(logger,"Contract	4	41	43	5000	10800	300	1800	")
        println(logger,"Contract	4	125	44	7000	12000	696	3600	")
        println(logger,"Contract	4	437.671233	7.396	15300	18000	0	3000	")
        println(logger,"Contract	4	321.917808	10.774	15300	18000	0	3000	")
        println(logger,"Contract	4	254.794521	14.692	10000	18000	0	3000	")
        println(logger,"Contract	4	178.767123	22.112	0	15000	0	3000	")
        println(logger,"Contract	4	875.342466	7.396	30600	36000	0	6000	")
        println(logger,"Contract	4	643.835616	10.774	30600	36000	0	6000	")
        println(logger,"Contract	5	509.589041	14.692	20000	36000	0	6000	")
        println(logger,"Contract	5	357.534247	22.112	0	30000	0	6000	")
        println(logger,"Contract	5	1313.013699	7.396	45900	54000	0	9000	")
        println(logger,"Contract	5	965.753425	10.774	45900	54000	0	9000	")
        println(logger,"Contract	5	764.383562	14.692	30000	54000	0	9000	")
        println(logger,"Contract	5	536.30137	22.112	0	45000	0	9000	")
        println(logger,"Contract	5	1750.684932	7.396	61200	72000	0	12000	")
        println(logger,"Contract	5	1287.671233	10.774	61200	72000	0	12000	")
        println(logger,"Contract	5	1019.178082	14.692	40000	72000	0	12000	")
        println(logger,"Contract	5	715.068493	22.112	0	60000	0	12000	")
        println(logger,"Contract	5	37	41	1000	7000	0	1500	")
        println(logger,"Contract	5	41	44	7000	10800	0	1800	")
        println(logger,"Contract	5	41	43	5000	10800	300	1800	")
        println(logger,"Contract	5	125	44	7000	12000	696	3600	")
        println(logger,"Contract	5	437.671233	7.396	15300	18000	0	3000	")
        println(logger,"Contract	5	321.917808	10.774	15300	18000	0	3000	")
        println(logger,"Contract	5	254.794521	14.692	10000	18000	0	3000	")
        println(logger,"Contract	5	178.767123	22.112	0	15000	0	3000	")
        println(logger,"Contract	5	875.342466	7.396	30600	36000	0	6000	")
        println(logger,"Contract	5	643.835616	10.774	30600	36000	0	6000	")
    elseif type_c == "zero"  # EC (Engagement Cost) = 0
        println(logger,"Contract	0	0	31	5000	7200	0	1200	")
        println(logger,"Contract	0	0	33	4000	9000	102	1500	")
        println(logger,"Contract	0	0	6.017	15300	18000	0	3000	")
        println(logger,"Contract	0	0	6.893	15300	18000	0	3000	")
        println(logger,"Contract	0	0	8.035	10000	18000	0	3000	")
        println(logger,"Contract	0	0	10.114	0	15000	0	3000	")
        println(logger,"Contract	0	0	6.017	30600	36000	0	6000	")
        println(logger,"Contract	0	0	6.893	30600	36000	0	6000	")
        println(logger,"Contract	0	0	8.035	20000	36000	0	6000	")
        println(logger,"Contract	0	0	10.114	0	30000	0	6000	")
        println(logger,"Contract	0	0	6.017	45900	54000	0	9000	")
        println(logger,"Contract	0	0	6.893	45900	54000	0	9000	")
        println(logger,"Contract	0	0	8.035	30000	54000	0	9000	")
        println(logger,"Contract	0	0	10.114	0	45000	0	9000	")
        println(logger,"Contract	0	0	6.017	61200	72000	0	12000	")
        println(logger,"Contract	0	0	6.893	61200	72000	0	12000	")
        println(logger,"Contract	0	0	8.035	40000	72000	0	12000	")
        println(logger,"Contract	0	0	10.114	0	60000	0	12000	")
        println(logger,"Contract	0	0	31	5000	7200	0	1200	")
        println(logger,"Contract	0	0	33	4000	9000	102	1500	")
        println(logger,"Contract	1	0	6.017	15300	18000	0	3000	")
        println(logger,"Contract	1	0	6.893	15300	18000	0	3000	")
        println(logger,"Contract	1	0	8.035	10000	18000	0	3000	")
        println(logger,"Contract	1	0	10.114	0	15000	0	3000	")
        println(logger,"Contract	1	0	6.017	30600	36000	0	6000	")
        println(logger,"Contract	1	0	6.893	30600	36000	0	6000	")
        println(logger,"Contract	1	0	8.035	20000	36000	0	6000	")
        println(logger,"Contract	1	0	10.114	0	30000	0	6000	")
        println(logger,"Contract	1	0	6.017	45900	54000	0	9000	")
        println(logger,"Contract	1	0	6.893	45900	54000	0	9000	")
        println(logger,"Contract	1	0	8.035	30000	54000	0	9000	")
        println(logger,"Contract	1	0	10.114	0	45000	0	9000	")
        println(logger,"Contract	1	0	6.017	61200	72000	0	12000	")
        println(logger,"Contract	1	0	6.893	61200	72000	0	12000	")
        println(logger,"Contract	1	0	8.035	40000	72000	0	12000	")
        println(logger,"Contract	1	0	10.114	0	60000	0	12000	")
        println(logger,"Contract	1	0	31	5000	7200	0	1200	")
        println(logger,"Contract	1	0	33	4000	9000	102	1500	")
        println(logger,"Contract	1	0	6.017	15300	18000	0	3000	")
        println(logger,"Contract	1	0	6.893	15300	18000	0	3000	")
        println(logger,"Contract	2	0	8.035	10000	18000	0	3000	")
        println(logger,"Contract	2	0	10.114	0	15000	0	3000	")
        println(logger,"Contract	2	0	6.017	30600	36000	0	6000	")
        println(logger,"Contract	2	0	6.893	30600	36000	0	6000	")
        println(logger,"Contract	2	0	8.035	20000	36000	0	6000	")
        println(logger,"Contract	2	0	10.114	0	30000	0	6000	")
        println(logger,"Contract	2	0	6.017	45900	54000	0	9000	")
        println(logger,"Contract	2	0	6.893	45900	54000	0	9000	")
        println(logger,"Contract	2	0	8.035	30000	54000	0	9000	")
        println(logger,"Contract	2	0	10.114	0	45000	0	9000	")
        println(logger,"Contract	2	0	6.017	61200	72000	0	12000	")
        println(logger,"Contract	2	0	6.893	61200	72000	0	12000	")
        println(logger,"Contract	2	0	8.035	40000	72000	0	12000	")
        println(logger,"Contract	2	0	10.114	0	60000	0	12000	")
        println(logger,"Contract	2	0	31	5000	7200	0	1200	")
        println(logger,"Contract	2	0	33	4000	9000	102	1500	")
        println(logger,"Contract	2	0	6.017	15300	18000	0	3000	")
        println(logger,"Contract	2	0	6.893	15300	18000	0	3000	")
        println(logger,"Contract	2	0	8.035	10000	18000	0	3000	")
        println(logger,"Contract	2	0	10.114	0	15000	0	3000	")
        println(logger,"Contract	3	0	6.017	30600	36000	0	6000	")
        println(logger,"Contract	3	0	6.893	30600	36000	0	6000	")
        println(logger,"Contract	3	0	8.035	20000	36000	0	6000	")
        println(logger,"Contract	3	0	10.114	0	30000	0	6000	")
        println(logger,"Contract	3	0	6.017	45900	54000	0	9000	")
        println(logger,"Contract	3	0	6.893	45900	54000	0	9000	")
        println(logger,"Contract	3	0	8.035	30000	54000	0	9000	")
        println(logger,"Contract	3	0	10.114	0	45000	0	9000	")
        println(logger,"Contract	3	0	6.017	61200	72000	0	12000	")
        println(logger,"Contract	3	0	6.893	61200	72000	0	12000	")
        println(logger,"Contract	3	0	8.035	40000	72000	0	12000	")
        println(logger,"Contract	3	0	10.114	0	60000	0	12000	")
        println(logger,"Contract	3	0	31	5000	7200	0	1200	")
        println(logger,"Contract	3	0	33	4000	9000	102	1500	")
        println(logger,"Contract	3	0	6.017	15300	18000	0	3000	")
        println(logger,"Contract	3	0	6.893	15300	18000	0	3000	")
        println(logger,"Contract	3	0	8.035	10000	18000	0	3000	")
        println(logger,"Contract	3	0	10.114	0	15000	0	3000	")
        println(logger,"Contract	3	0	6.017	30600	36000	0	6000	")
        println(logger,"Contract	3	0	6.893	30600	36000	0	6000	")
        println(logger,"Contract	4	0	8.035	20000	36000	0	6000	")
        println(logger,"Contract	4	0	10.114	0	30000	0	6000	")
        println(logger,"Contract	4	0	6.017	45900	54000	0	9000	")
        println(logger,"Contract	4	0	6.893	45900	54000	0	9000	")
        println(logger,"Contract	4	0	8.035	30000	54000	0	9000	")
        println(logger,"Contract	4	0	10.114	0	45000	0	9000	")
        println(logger,"Contract	4	0	6.017	61200	72000	0	12000	")
        println(logger,"Contract	4	0	6.893	61200	72000	0	12000	")
        println(logger,"Contract	4	0	8.035	40000	72000	0	12000	")
        println(logger,"Contract	4	0	10.114	0	60000	0	12000	")
        println(logger,"Contract	4	0	41	1000	7000	0	1500	")
        println(logger,"Contract	4	0	44	7000	10800	0	1800	")
        println(logger,"Contract	4	0	43	5000	10800	300	1800	")
        println(logger,"Contract	4	0	44	7000	12000	696	3600	")
        println(logger,"Contract	4	0	7.396	15300	18000	0	3000	")
        println(logger,"Contract	4	0	10.774	15300	18000	0	3000	")
        println(logger,"Contract	4	0	14.692	10000	18000	0	3000	")
        println(logger,"Contract	4	0	22.112	0	15000	0	3000	")
        println(logger,"Contract	4	0	7.396	30600	36000	0	6000	")
        println(logger,"Contract	4	0	10.774	30600	36000	0	6000	")
        println(logger,"Contract	5	0	14.692	20000	36000	0	6000	")
        println(logger,"Contract	5	0	22.112	0	30000	0	6000	")
        println(logger,"Contract	5	0	7.396	45900	54000	0	9000	")
        println(logger,"Contract	5	0	10.774	45900	54000	0	9000	")
        println(logger,"Contract	5	0	14.692	30000	54000	0	9000	")
        println(logger,"Contract	5	0	22.112	0	45000	0	9000	")
        println(logger,"Contract	5	0	7.396	61200	72000	0	12000	")
        println(logger,"Contract	5	0	10.774	61200	72000	0	12000	")
        println(logger,"Contract	5	0	14.692	40000	72000	0	12000	")
        println(logger,"Contract	5	0	22.112	0	60000	0	12000	")
        println(logger,"Contract	5	0	41	1000	7000	0	1500	")
        println(logger,"Contract	5	0	44	7000	10800	0	1800	")
        println(logger,"Contract	5	0	43	5000	10800	300	1800	")
        println(logger,"Contract	5	0	44	7000	12000	696	3600	")
        println(logger,"Contract	5	0	7.396	15300	18000	0	3000	")
        println(logger,"Contract	5	0	10.774	15300	18000	0	3000	")
        println(logger,"Contract	5	0	14.692	10000	18000	0	3000	")
        println(logger,"Contract	5	0	22.112	0	15000	0	3000	")
        println(logger,"Contract	5	0	7.396	30600	36000	0	6000	")
        println(logger,"Contract	5	0	10.774	30600	36000	0	6000	")
    elseif type_c == "med"  # EC = 0.6 * DefaultEC
        println(logger,"Contract	0	19.8	31	5000	7200	0	1200	")
        println(logger,"Contract	0	22.2	33	4000	9000	102	1500	")
        println(logger,"Contract	0	262.6027398	6.017	15300	18000	0	3000	")
        println(logger,"Contract	0	193.1506848	6.893	15300	18000	0	3000	")
        println(logger,"Contract	0	152.8767126	8.035	10000	18000	0	3000	")
        println(logger,"Contract	0	107.2602738	10.114	0	15000	0	3000	")
        println(logger,"Contract	0	525.2054796	6.017	30600	36000	0	6000	")
        println(logger,"Contract	0	386.3013696	6.893	30600	36000	0	6000	")
        println(logger,"Contract	0	305.7534246	8.035	20000	36000	0	6000	")
        println(logger,"Contract	0	214.5205482	10.114	0	30000	0	6000	")
        println(logger,"Contract	0	787.8082194	6.017	45900	54000	0	9000	")
        println(logger,"Contract	0	579.452055	6.893	45900	54000	0	9000	")
        println(logger,"Contract	0	458.6301372	8.035	30000	54000	0	9000	")
        println(logger,"Contract	0	321.780822	10.114	0	45000	0	9000	")
        println(logger,"Contract	0	1050.4109592	6.017	61200	72000	0	12000	")
        println(logger,"Contract	0	772.6027398	6.893	61200	72000	0	12000	")
        println(logger,"Contract	0	611.5068492	8.035	40000	72000	0	12000	")
        println(logger,"Contract	0	429.0410958	10.114	0	60000	0	12000	")
        println(logger,"Contract	0	19.8	31	5000	7200	0	1200	")
        println(logger,"Contract	0	22.2	33	4000	9000	102	1500	")
        println(logger,"Contract	1	262.6027398	6.017	15300	18000	0	3000	")
        println(logger,"Contract	1	193.1506848	6.893	15300	18000	0	3000	")
        println(logger,"Contract	1	152.8767126	8.035	10000	18000	0	3000	")
        println(logger,"Contract	1	107.2602738	10.114	0	15000	0	3000	")
        println(logger,"Contract	1	525.2054796	6.017	30600	36000	0	6000	")
        println(logger,"Contract	1	386.3013696	6.893	30600	36000	0	6000	")
        println(logger,"Contract	1	305.7534246	8.035	20000	36000	0	6000	")
        println(logger,"Contract	1	214.5205482	10.114	0	30000	0	6000	")
        println(logger,"Contract	1	787.8082194	6.017	45900	54000	0	9000	")
        println(logger,"Contract	1	579.452055	6.893	45900	54000	0	9000	")
        println(logger,"Contract	1	458.6301372	8.035	30000	54000	0	9000	")
        println(logger,"Contract	1	321.780822	10.114	0	45000	0	9000	")
        println(logger,"Contract	1	1050.4109592	6.017	61200	72000	0	12000	")
        println(logger,"Contract	1	772.6027398	6.893	61200	72000	0	12000	")
        println(logger,"Contract	1	611.5068492	8.035	40000	72000	0	12000	")
        println(logger,"Contract	1	429.0410958	10.114	0	60000	0	12000	")
        println(logger,"Contract	1	19.8	31	5000	7200	0	1200	")
        println(logger,"Contract	1	22.2	33	4000	9000	102	1500	")
        println(logger,"Contract	1	262.6027398	6.017	15300	18000	0	3000	")
        println(logger,"Contract	1	193.1506848	6.893	15300	18000	0	3000	")
        println(logger,"Contract	2	152.8767126	8.035	10000	18000	0	3000	")
        println(logger,"Contract	2	107.2602738	10.114	0	15000	0	3000	")
        println(logger,"Contract	2	525.2054796	6.017	30600	36000	0	6000	")
        println(logger,"Contract	2	386.3013696	6.893	30600	36000	0	6000	")
        println(logger,"Contract	2	305.7534246	8.035	20000	36000	0	6000	")
        println(logger,"Contract	2	214.5205482	10.114	0	30000	0	6000	")
        println(logger,"Contract	2	787.8082194	6.017	45900	54000	0	9000	")
        println(logger,"Contract	2	579.452055	6.893	45900	54000	0	9000	")
        println(logger,"Contract	2	458.6301372	8.035	30000	54000	0	9000	")
        println(logger,"Contract	2	321.780822	10.114	0	45000	0	9000	")
        println(logger,"Contract	2	1050.4109592	6.017	61200	72000	0	12000	")
        println(logger,"Contract	2	772.6027398	6.893	61200	72000	0	12000	")
        println(logger,"Contract	2	611.5068492	8.035	40000	72000	0	12000	")
        println(logger,"Contract	2	429.0410958	10.114	0	60000	0	12000	")
        println(logger,"Contract	2	19.8	31	5000	7200	0	1200	")
        println(logger,"Contract	2	22.2	33	4000	9000	102	1500	")
        println(logger,"Contract	2	262.6027398	6.017	15300	18000	0	3000	")
        println(logger,"Contract	2	193.1506848	6.893	15300	18000	0	3000	")
        println(logger,"Contract	2	152.8767126	8.035	10000	18000	0	3000	")
        println(logger,"Contract	2	107.2602738	10.114	0	15000	0	3000	")
        println(logger,"Contract	3	525.2054796	6.017	30600	36000	0	6000	")
        println(logger,"Contract	3	386.3013696	6.893	30600	36000	0	6000	")
        println(logger,"Contract	3	305.7534246	8.035	20000	36000	0	6000	")
        println(logger,"Contract	3	214.5205482	10.114	0	30000	0	6000	")
        println(logger,"Contract	3	787.8082194	6.017	45900	54000	0	9000	")
        println(logger,"Contract	3	579.452055	6.893	45900	54000	0	9000	")
        println(logger,"Contract	3	458.6301372	8.035	30000	54000	0	9000	")
        println(logger,"Contract	3	321.780822	10.114	0	45000	0	9000	")
        println(logger,"Contract	3	1050.4109592	6.017	61200	72000	0	12000	")
        println(logger,"Contract	3	772.6027398	6.893	61200	72000	0	12000	")
        println(logger,"Contract	3	611.5068492	8.035	40000	72000	0	12000	")
        println(logger,"Contract	3	429.0410958	10.114	0	60000	0	12000	")
        println(logger,"Contract	3	19.8	31	5000	7200	0	1200	")
        println(logger,"Contract	3	22.2	33	4000	9000	102	1500	")
        println(logger,"Contract	3	262.6027398	6.017	15300	18000	0	3000	")
        println(logger,"Contract	3	193.1506848	6.893	15300	18000	0	3000	")
        println(logger,"Contract	3	152.8767126	8.035	10000	18000	0	3000	")
        println(logger,"Contract	3	107.2602738	10.114	0	15000	0	3000	")
        println(logger,"Contract	3	525.2054796	6.017	30600	36000	0	6000	")
        println(logger,"Contract	3	386.3013696	6.893	30600	36000	0	6000	")
        println(logger,"Contract	4	305.7534246	8.035	20000	36000	0	6000	")
        println(logger,"Contract	4	214.5205482	10.114	0	30000	0	6000	")
        println(logger,"Contract	4	787.8082194	6.017	45900	54000	0	9000	")
        println(logger,"Contract	4	579.452055	6.893	45900	54000	0	9000	")
        println(logger,"Contract	4	458.6301372	8.035	30000	54000	0	9000	")
        println(logger,"Contract	4	321.780822	10.114	0	45000	0	9000	")
        println(logger,"Contract	4	1050.4109592	6.017	61200	72000	0	12000	")
        println(logger,"Contract	4	772.6027398	6.893	61200	72000	0	12000	")
        println(logger,"Contract	4	611.5068492	8.035	40000	72000	0	12000	")
        println(logger,"Contract	4	429.0410958	10.114	0	60000	0	12000	")
        println(logger,"Contract	4	22.2	41	1000	7000	0	1500	")
        println(logger,"Contract	4	24.6	44	7000	10800	0	1800	")
        println(logger,"Contract	4	24.6	43	5000	10800	300	1800	")
        println(logger,"Contract	4	75	44	7000	12000	696	3600	")
        println(logger,"Contract	4	262.6027398	7.396	15300	18000	0	3000	")
        println(logger,"Contract	4	193.1506848	10.774	15300	18000	0	3000	")
        println(logger,"Contract	4	152.8767126	14.692	10000	18000	0	3000	")
        println(logger,"Contract	4	107.2602738	22.112	0	15000	0	3000	")
        println(logger,"Contract	4	525.2054796	7.396	30600	36000	0	6000	")
        println(logger,"Contract	4	386.3013696	10.774	30600	36000	0	6000	")
        println(logger,"Contract	5	305.7534246	14.692	20000	36000	0	6000	")
        println(logger,"Contract	5	214.5205482	22.112	0	30000	0	6000	")
        println(logger,"Contract	5	787.8082194	7.396	45900	54000	0	9000	")
        println(logger,"Contract	5	579.452055	10.774	45900	54000	0	9000	")
        println(logger,"Contract	5	458.6301372	14.692	30000	54000	0	9000	")
        println(logger,"Contract	5	321.780822	22.112	0	45000	0	9000	")
        println(logger,"Contract	5	1050.4109592	7.396	61200	72000	0	12000	")
        println(logger,"Contract	5	772.6027398	10.774	61200	72000	0	12000	")
        println(logger,"Contract	5	611.5068492	14.692	40000	72000	0	12000	")
        println(logger,"Contract	5	429.0410958	22.112	0	60000	0	12000	")
        println(logger,"Contract	5	22.2	41	1000	7000	0	1500	")
        println(logger,"Contract	5	24.6	44	7000	10800	0	1800	")
        println(logger,"Contract	5	24.6	43	5000	10800	300	1800	")
        println(logger,"Contract	5	75	44	7000	12000	696	3600	")
        println(logger,"Contract	5	262.6027398	7.396	15300	18000	0	3000	")
        println(logger,"Contract	5	193.1506848	10.774	15300	18000	0	3000	")
        println(logger,"Contract	5	152.8767126	14.692	10000	18000	0	3000	")
        println(logger,"Contract	5	107.2602738	22.112	0	15000	0	3000	")
        println(logger,"Contract	5	525.2054796	7.396	30600	36000	0	6000	")
        println(logger,"Contract	5	386.3013696	10.774	30600	36000	0	6000	")
    elseif type_c == "low"  # EC = 0.2 * DefaultEC
        println(logger,"Contract	0	6.6	31	5000	7200	0	1200	")
        println(logger,"Contract	0	7.4	33	4000	9000	102	1500	")
        println(logger,"Contract	0	87.5342466	6.017	15300	18000	0	3000	")
        println(logger,"Contract	0	64.3835616	6.893	15300	18000	0	3000	")
        println(logger,"Contract	0	50.9589042	8.035	10000	18000	0	3000	")
        println(logger,"Contract	0	35.7534246	10.114	0	15000	0	3000	")
        println(logger,"Contract	0	175.0684932	6.017	30600	36000	0	6000	")
        println(logger,"Contract	0	128.7671232	6.893	30600	36000	0	6000	")
        println(logger,"Contract	0	101.9178082	8.035	20000	36000	0	6000	")
        println(logger,"Contract	0	71.5068494	10.114	0	30000	0	6000	")
        println(logger,"Contract	0	262.6027398	6.017	45900	54000	0	9000	")
        println(logger,"Contract	0	193.150685	6.893	45900	54000	0	9000	")
        println(logger,"Contract	0	152.8767124	8.035	30000	54000	0	9000	")
        println(logger,"Contract	0	107.260274	10.114	0	45000	0	9000	")
        println(logger,"Contract	0	350.1369864	6.017	61200	72000	0	12000	")
        println(logger,"Contract	0	257.5342466	6.893	61200	72000	0	12000	")
        println(logger,"Contract	0	203.8356164	8.035	40000	72000	0	12000	")
        println(logger,"Contract	0	143.0136986	10.114	0	60000	0	12000	")
        println(logger,"Contract	0	6.6	31	5000	7200	0	1200	")
        println(logger,"Contract	0	7.4	33	4000	9000	102	1500	")
        println(logger,"Contract	1	87.5342466	6.017	15300	18000	0	3000	")
        println(logger,"Contract	1	64.3835616	6.893	15300	18000	0	3000	")
        println(logger,"Contract	1	50.9589042	8.035	10000	18000	0	3000	")
        println(logger,"Contract	1	35.7534246	10.114	0	15000	0	3000	")
        println(logger,"Contract	1	175.0684932	6.017	30600	36000	0	6000	")
        println(logger,"Contract	1	128.7671232	6.893	30600	36000	0	6000	")
        println(logger,"Contract	1	101.9178082	8.035	20000	36000	0	6000	")
        println(logger,"Contract	1	71.5068494	10.114	0	30000	0	6000	")
        println(logger,"Contract	1	262.6027398	6.017	45900	54000	0	9000	")
        println(logger,"Contract	1	193.150685	6.893	45900	54000	0	9000	")
        println(logger,"Contract	1	152.8767124	8.035	30000	54000	0	9000	")
        println(logger,"Contract	1	107.260274	10.114	0	45000	0	9000	")
        println(logger,"Contract	1	350.1369864	6.017	61200	72000	0	12000	")
        println(logger,"Contract	1	257.5342466	6.893	61200	72000	0	12000	")
        println(logger,"Contract	1	203.8356164	8.035	40000	72000	0	12000	")
        println(logger,"Contract	1	143.0136986	10.114	0	60000	0	12000	")
        println(logger,"Contract	1	6.6	31	5000	7200	0	1200	")
        println(logger,"Contract	1	7.4	33	4000	9000	102	1500	")
        println(logger,"Contract	1	87.5342466	6.017	15300	18000	0	3000	")
        println(logger,"Contract	1	64.3835616	6.893	15300	18000	0	3000	")
        println(logger,"Contract	2	50.9589042	8.035	10000	18000	0	3000	")
        println(logger,"Contract	2	35.7534246	10.114	0	15000	0	3000	")
        println(logger,"Contract	2	175.0684932	6.017	30600	36000	0	6000	")
        println(logger,"Contract	2	128.7671232	6.893	30600	36000	0	6000	")
        println(logger,"Contract	2	101.9178082	8.035	20000	36000	0	6000	")
        println(logger,"Contract	2	71.5068494	10.114	0	30000	0	6000	")
        println(logger,"Contract	2	262.6027398	6.017	45900	54000	0	9000	")
        println(logger,"Contract	2	193.150685	6.893	45900	54000	0	9000	")
        println(logger,"Contract	2	152.8767124	8.035	30000	54000	0	9000	")
        println(logger,"Contract	2	107.260274	10.114	0	45000	0	9000	")
        println(logger,"Contract	2	350.1369864	6.017	61200	72000	0	12000	")
        println(logger,"Contract	2	257.5342466	6.893	61200	72000	0	12000	")
        println(logger,"Contract	2	203.8356164	8.035	40000	72000	0	12000	")
        println(logger,"Contract	2	143.0136986	10.114	0	60000	0	12000	")
        println(logger,"Contract	2	6.6	31	5000	7200	0	1200	")
        println(logger,"Contract	2	7.4	33	4000	9000	102	1500	")
        println(logger,"Contract	2	87.5342466	6.017	15300	18000	0	3000	")
        println(logger,"Contract	2	64.3835616	6.893	15300	18000	0	3000	")
        println(logger,"Contract	2	50.9589042	8.035	10000	18000	0	3000	")
        println(logger,"Contract	2	35.7534246	10.114	0	15000	0	3000	")
        println(logger,"Contract	3	175.0684932	6.017	30600	36000	0	6000	")
        println(logger,"Contract	3	128.7671232	6.893	30600	36000	0	6000	")
        println(logger,"Contract	3	101.9178082	8.035	20000	36000	0	6000	")
        println(logger,"Contract	3	71.5068494	10.114	0	30000	0	6000	")
        println(logger,"Contract	3	262.6027398	6.017	45900	54000	0	9000	")
        println(logger,"Contract	3	193.150685	6.893	45900	54000	0	9000	")
        println(logger,"Contract	3	152.8767124	8.035	30000	54000	0	9000	")
        println(logger,"Contract	3	107.260274	10.114	0	45000	0	9000	")
        println(logger,"Contract	3	350.1369864	6.017	61200	72000	0	12000	")
        println(logger,"Contract	3	257.5342466	6.893	61200	72000	0	12000	")
        println(logger,"Contract	3	203.8356164	8.035	40000	72000	0	12000	")
        println(logger,"Contract	3	143.0136986	10.114	0	60000	0	12000	")
        println(logger,"Contract	3	6.6	31	5000	7200	0	1200	")
        println(logger,"Contract	3	7.4	33	4000	9000	102	1500	")
        println(logger,"Contract	3	87.5342466	6.017	15300	18000	0	3000	")
        println(logger,"Contract	3	64.3835616	6.893	15300	18000	0	3000	")
        println(logger,"Contract	3	50.9589042	8.035	10000	18000	0	3000	")
        println(logger,"Contract	3	35.7534246	10.114	0	15000	0	3000	")
        println(logger,"Contract	3	175.0684932	6.017	30600	36000	0	6000	")
        println(logger,"Contract	3	128.7671232	6.893	30600	36000	0	6000	")
        println(logger,"Contract	4	101.9178082	8.035	20000	36000	0	6000	")
        println(logger,"Contract	4	71.5068494	10.114	0	30000	0	6000	")
        println(logger,"Contract	4	262.6027398	6.017	45900	54000	0	9000	")
        println(logger,"Contract	4	193.150685	6.893	45900	54000	0	9000	")
        println(logger,"Contract	4	152.8767124	8.035	30000	54000	0	9000	")
        println(logger,"Contract	4	107.260274	10.114	0	45000	0	9000	")
        println(logger,"Contract	4	350.1369864	6.017	61200	72000	0	12000	")
        println(logger,"Contract	4	257.5342466	6.893	61200	72000	0	12000	")
        println(logger,"Contract	4	203.8356164	8.035	40000	72000	0	12000	")
        println(logger,"Contract	4	143.0136986	10.114	0	60000	0	12000	")
        println(logger,"Contract	4	7.4	41	1000	7000	0	1500	")
        println(logger,"Contract	4	8.2	44	7000	10800	0	1800	")
        println(logger,"Contract	4	8.2	43	5000	10800	300	1800	")
        println(logger,"Contract	4	25	44	7000	12000	696	3600	")
        println(logger,"Contract	4	87.5342466	7.396	15300	18000	0	3000	")
        println(logger,"Contract	4	64.3835616	10.774	15300	18000	0	3000	")
        println(logger,"Contract	4	50.9589042	14.692	10000	18000	0	3000	")
        println(logger,"Contract	4	35.7534246	22.112	0	15000	0	3000	")
        println(logger,"Contract	4	175.0684932	7.396	30600	36000	0	6000	")
        println(logger,"Contract	4	128.7671232	10.774	30600	36000	0	6000	")
        println(logger,"Contract	5	101.9178082	14.692	20000	36000	0	6000	")
        println(logger,"Contract	5	71.5068494	22.112	0	30000	0	6000	")
        println(logger,"Contract	5	262.6027398	7.396	45900	54000	0	9000	")
        println(logger,"Contract	5	193.150685	10.774	45900	54000	0	9000	")
        println(logger,"Contract	5	152.8767124	14.692	30000	54000	0	9000	")
        println(logger,"Contract	5	107.260274	22.112	0	45000	0	9000	")
        println(logger,"Contract	5	350.1369864	7.396	61200	72000	0	12000	")
        println(logger,"Contract	5	257.5342466	10.774	61200	72000	0	12000	")
        println(logger,"Contract	5	203.8356164	14.692	40000	72000	0	12000	")
        println(logger,"Contract	5	143.0136986	22.112	0	60000	0	12000	")
        println(logger,"Contract	5	7.4	41	1000	7000	0	1500	")
        println(logger,"Contract	5	8.2	44	7000	10800	0	1800	")
        println(logger,"Contract	5	8.2	43	5000	10800	300	1800	")
        println(logger,"Contract	5	25	44	7000	12000	696	3600	")
        println(logger,"Contract	5	87.5342466	7.396	15300	18000	0	3000	")
        println(logger,"Contract	5	64.3835616	10.774	15300	18000	0	3000	")
        println(logger,"Contract	5	50.9589042	14.692	10000	18000	0	3000	")
        println(logger,"Contract	5	35.7534246	22.112	0	15000	0	3000	")
        println(logger,"Contract	5	175.0684932	7.396	30600	36000	0	6000	")
        println(logger,"Contract	5	128.7671232	10.774	30600	36000	0	6000	")
    end
end

    OC_values = [6, 12, 24, 48]  # starts at 6, since this is the cheapest contract cost available
    contract_types = ["default", "low", "med", "zero"]
    generator_costs = [6, 12, 24]  # starts at 6, since this is the cheapest contract cost available
    battery_costs = [0, 0.3, 0.6, 1.2, 2.4]  # the battery cost is usually 1/10 the cost of the cheapest energy contract
    unds_cost_amplitudes = ["default", "2x"]
    unds_shapes = ["skewed-left", "uniform", "skewed-right"]
    output_path = create_full_dir(normpath(pwd()), ["instances", "toy"])

    for unds_shape in unds_shapes
        for oc_value in OC_values
            for contract_type in contract_types
                for gen_cost in generator_costs
                    for batt_cost in battery_costs
                        for cost_amplitude in unds_cost_amplitudes
                            filename = "OC$(oc_value)_Ct_$(contract_type)_DS$(gen_cost)_ST$(batt_cost)_NDU_$(cost_amplitude)_$(unds_shape)"
                            output_file = output_file_base = joinpath(normpath(output_path), filename * ".txt")
                            logger = open(output_file, "w+")
                            generate_periods(logger, oc_value)
                            generate_contracts(logger, contract_type)
                            generate_devices(logger, gen_cost, batt_cost)
                            generate_unds_consumer(logger, cost_amplitude, unds_shape)
                            close(logger)
                        end
                    end
                end
            end
        end
    end
    println("Instance generation complete.")
